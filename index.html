<!DOCTYPE html>
<html>
<head>
    <style>
        #grid-container {
            display: grid;
            grid-template-columns: repeat(3, 20px); /* 3 Columns */
            gap: 2px;
            transition: all 0.5s ease-in-out;
        }
        .bit {
            width: 20px;
            height: 20px;
            background-color: #333;
            transition: transform 0.5s, background-color 0.3s;
        }
        .active { background-color: lime; }
        
        /* Animation classes */
        .shift-right { transform: translateX(22px); }
        .shift-down { transform: translateY(22px); }
    </style>
</head>
<body>

    <div id="grid-container">
        <!-- Bits generated by JS -->
    </div>

    <br>
    <button onclick="moveRow()">Shuffle Rows</button>

    <script>
        const container = document.getElementById('grid-container');
        let data = [1, 0, 1, 0, 1, 0, 1, 1, 0]; // Flattened raster data

        function initGrid() {
            container.innerHTML = '';
            data.forEach((val, index) => {
                const div = document.createElement('div');
                div.className = `bit ${val ? 'active' : ''}`;
                div.id = `bit-${index}`;
                container.appendChild(div);
            });
        }

        function moveRow() {
            // Reorder data array (Cyclic shift)
            data.push(data.shift()); 
            
            // Animate and re-render
            const bits = document.querySelectorAll('.bit');
            bits.forEach(bit => {
                bit.style.transform = "scale(0.8)"; // Visual "pop" during move
            });

            setTimeout(() => {
                initGrid(); // Re-draw with new order
            }, 300);
        }

        initGrid();
    </script>
</body>
</html>
